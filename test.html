<html>
<head>
    <title>Test file for Keybinds.js</title>
    <script src="keybinds.js"></script>
    <style>
        #canvas{
            border: 2px solid #000;
        }
    </style>
</head>
<body>
    
    <canvas id="canvas" width="400px" height="400px"></canvas>
    
    <script>
        
        //Global variables are for canvas and are not related to the keybinds.js
        var c = document.getElementById("canvas");
        var ctx = c.getContext("2d");
        
        var x = 5;
        var y = x*5;
        var speed = 5;
        
        
        window.onload = function (){
            init();
            //logKeys();
            
            //addKeybind(key,callback,shift,ctrl,alt)
            //sets up all the keybidnings for the document
            addKeybind("uparrow",moveUp,false,false,false);
            addKeybind("rightarrow",moveRight,false,false,false);
            addKeybind("leftarrow",moveLeft,false,false,false);
            addKeybind("downarrow",moveDown,false,false,false);
            addKeybind("space",pew,false,false,false);
            
            //Loggs all keybidnings
            console.log(getAllKeybinds());
            
            //is for drawing the rektangle on the the canvas
            draw();
        }
        
        //All functions here are callback funktions for the keybindings
        function pew(){
            console.log("Pew Pew!");
        }
        
        function moveUp(){
            console.log("up");
            y -= speed;
            draw();
        }
        
        function moveRight(){
            console.log("right");
            x += speed;
            draw();
        }
        
        function moveLeft(){
            console.log("left");
            x -= speed;
            draw();
        }
        
        function moveDown(){
            console.log("down");
            y += speed;
            draw();
        }
        
        /*Canvas related stuff*/
        function draw(){
            ctx.clearRect(0,0,400,400);
            ctx.fillStyle='#FF0000';
            ctx.fillRect(x,y,50,50);
        }
    
    </script>
</body>
</html>